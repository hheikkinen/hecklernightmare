#include <gb/gb.h>
#include <stdint.h>
#include <gbdk/font.h>

// TEXTS
// TODO use hex

unsigned char additional_character[] =
{
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x30,0x30,0x30,0x30,0x00,0x00,
  0x00,0x00,0x30,0x30,0x30,0x30,0x30,0x30,
  0x30,0x30,0x00,0x00,0x30,0x30,0x00,0x00,
  0x00,0x00,0x38,0x38,0x64,0x64,0x0C,0x0C,
  0x38,0x38,0x00,0x00,0x30,0x30,0x00,0x00
};

unsigned char title[]=
{
  0x12,0xF,0xD,0x15,0x16,0xF,0x1C,0x0,0x0,0x0,0x0,0x0,
  0x18,0x13,0x11,0x12,0x1E,0x17,0xB,0x1C,0xF,0x0,0x0,0x0,
  0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
  0x1A,0x1C,0xF,0x1D,0x1D,0x0,0x1D,0x1E,0xB,0x1C,0x1E,38,
};


unsigned char score[]=
{
  0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
  29,13,25,28,15,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
  0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
  0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
};

unsigned char empty_bubble[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char joke_1[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,18,15,22,22,25,38,0,33,15,22,13,25,23,15,0,30,25,
  0,23,35,0,29,18,25,33,38,0,19,30,0,19,29,0,0,0,
  0,24,19,13,15,0,30,25,0,12,15,0,18,15,28,15,38,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char joke_2[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,11,24,35,33,11,35,37,37,37,0,14,25,0,35,25,31,0,
  0,21,24,25,33,0,33,18,35,0,15,17,17,29,0,14,25,0,
  0,24,25,30,0,30,15,22,22,0,20,25,21,15,29,39,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char joke_3[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,25,21,37,0,33,18,35,0,14,19,14,0,30,18,15,0,0,
  0,23,11,30,18,0,12,25,25,21,0,22,25,25,21,0,0,0,
  0,29,11,14,39,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char heckler_1[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,35,25,31,0,29,30,19,24,21,38,38,38,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char heckler_2[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,12,15,13,11,31,29,15,0,25,16,0,35,25,31,28,0,
  0,0,23,25,23,38,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char heckler_3[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,35,25,31,28,0,33,19,16,15,38,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char options_1[]=
{
  19,0,14,19,14,0,24,25,30,0,21,24,25,33,37,37,0,0,
  0,0,19,0,33,11,29,0,26,15,28,16,25,28,23,19,24,17,
  0,0,0,0,16,25,28,0,14,25,17,29,37,37,0,0,0,0,
  0,0,23,35,0,14,15,25,14,25,28,11,24,30,0,33,11,29,
  0,0,0,0,15,34,26,19,28,15,14,0,0,0,0,0,0,0,
};

unsigned char options_2[]=
{
  18,25,33,0,14,19,14,0,35,25,31,0,21,24,25,33,39,0,
  0,0,11,28,15,0,35,25,31,0,12,11,21,15,28,0,0,0,
  0,0,0,0,22,19,21,15,0,18,15,28,39,0,0,0,0,0,
  0,0,31,23,23,37,37,37,0,37,37,37,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char options_3[]=
{
  35,25,31,0,11,28,15,0,28,19,17,18,30,37,0,0,0,0,
  0,0,29,18,15,0,19,29,0,24,25,30,0,30,18,11,30,0,
  0,0,0,0,17,25,25,14,0,11,30,0,23,11,30,18,0,0,
  0,0,30,18,15,35,0,12,25,30,18,0,11,28,15,0,0,0,
  0,0,16,31,22,22,0,25,16,0,26,28,25,12,22,15,23,29
};

unsigned char happy_bubble[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,38,38,0,0,0,
  0,18,11,0,18,11,38,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,18,11,0,18,11,11,38,38,0,0,
  0,0,0,18,11,18,11,38,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,18,11,0,18,11,38,0,0,0,
};

unsigned char angry_bubble[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,12,25,25,38,0,0,
  0,0,12,25,25,38,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,12,25,25,25,38,0,0,0,0,0,0,0,
  0,0,0,38,39,38,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,12,25,25,38,0,0,0,
};

const uint8_t circlesprite8x8_tiles[32] = {
	0x3c,0x3c,0x7e,0x76,
	0xff,0xe7,0xff,0xf7,
	0xff,0xf7,0xff,0xf7,
	0x7e,0x62,0x3c,0x3c,
	
0x3c,0x3c,0x7e,0x7e,
	0xff,0xc3,0xff,0xfb,
	0xff,0xc3,0xff,0xdf,
	0x7e,0x42,0x3c,0x3c
	
};

// BACKGROUNDS

unsigned char comedian_background[] =
{
  0x29,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,
  0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2B,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x2F,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,
  0x2E,0x2E,0x2E,0x2E,0x2E,0x38,0x2E,0x2E,0x2E,0x2D,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x3A,0x39,0x37,0x36,0x34,0x35,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x3C,0x3B,0x28,0x28,0x28,0x28,0x33,0x32,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x3D,0x28,0x28,0x55,0x56,0x57,0x28,0x49,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x3E,0x28,0x54,0x53,0x58,0x59,0x5A,0x5B,0x48,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x3F,0x28,0x28,0x52,0x5C,0x5D,0x5E,0x5F,0x47,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x40,0x50,0x51,0x60,0x61,0x62,0x28,0x46,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x41,0x42,0x43,0x43,0x43,0x43,0x44,0x45,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x4A,0x4B,0x4C,0x4D,0x4E,0x4F,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31
};

unsigned char comedian_tileset[] =
{
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x0F,0x0F,0x1F,0x1F,
  0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,
  0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x00,0x00,0x00,0x00,0xF0,0xF0,0xF8,0xF8,
  0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,
  0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,
  0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,
  0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,
  0xF8,0xF8,0xF0,0xF0,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,
  0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,
  0x1F,0x1F,0x0F,0x0F,0x00,0x00,0x00,0x00,
  0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,
  0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0x7F,0x7F,0x7F,0x7F,0x3F,0x3F,
  0x0F,0x0F,0x07,0x07,0x03,0x03,0x01,0x01,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0x1F,0x1F,0x07,0x07,
  0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0x3F,0x3F,0x1F,0x1F,
  0x0F,0x0F,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xDF,0xDF,0x0F,0x0F,0x07,0x07,0x03,0x03,
  0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0x7F,0x7F,0x3F,0x3F,
  0xFF,0xFF,0xF8,0xF8,0xE0,0xE0,0x80,0x80,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFE,0xFE,0xFC,0xFC,0xF0,0xF0,0xE0,0xE0,
  0xC0,0xC0,0x80,0x80,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0xFE,
  0xFC,0xFC,0xF8,0xF8,0xF8,0xF8,0xF0,0xF0,
  0xE0,0xE0,0xE0,0xE0,0xC0,0xC0,0xC0,0xC0,
  0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0xFE,
  0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,
  0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,
  0xC0,0xC0,0xC0,0xC0,0xE0,0xE0,0xE0,0xE0,
  0xFF,0xFF,0xF0,0xFF,0xF8,0xFF,0xFF,0xFF,
  0xFF,0xFE,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0x00,0xFF,0x00,0xFF,0xFF,0xFF,
  0x7F,0x80,0x7F,0x80,0xFF,0x80,0xFF,0xC0,
  0xFF,0xFF,0x00,0xFF,0x00,0xFF,0xFF,0xFF,
  0x7F,0x80,0x7F,0x80,0x7F,0x80,0x7F,0x80,
  0xFF,0xFF,0x00,0xFF,0x00,0xFF,0xFF,0xFF,
  0x7F,0x81,0x7F,0x83,0x7F,0x87,0x7F,0x8F,
  0xFF,0xFF,0x7F,0xFF,0x7F,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x03,0x03,0x07,0x07,0x07,0x07,0x07,0x07,
  0x0F,0x0F,0x0F,0x0F,0x1F,0x1F,0x1F,0x1F,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x01,0x01,0x03,0x03,0x03,0x03,0x03,0x03,
  0x03,0x03,0x03,0x03,0x03,0x03,0x01,0x01,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x1F,0x1F,0x1F,0x1F,0x0F,0x0F,0x0F,0x0F,
  0x07,0x07,0x07,0x07,0x07,0x07,0x03,0x03,
  0xFF,0xE0,0xF0,0xFF,0xFF,0xFC,0xFF,0xFE,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x80,
  0x7F,0x80,0xFF,0xC0,0xFF,0xF0,0xFF,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x80,
  0x7F,0x80,0x7F,0x80,0x7F,0x80,0xC0,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x80,
  0x7F,0x80,0x7F,0x80,0x7F,0x80,0x0F,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x81,
  0x7F,0x87,0x7F,0x9F,0xFF,0xFF,0xFF,0xFF,
  0x7F,0x9F,0x3F,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
  0x40,0x40,0x40,0x40,0xE0,0xE0,0xFC,0xFC,
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
  0x00,0x00,0x46,0x46,0xFD,0xFB,0xFB,0xFD,
  0x46,0x46,0x40,0x40,0x40,0x40,0x40,0x40,
  0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x03,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,
  0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0xFF,0xFF,0xFF,0xF1,0xFF,0x90,
  0x7F,0x24,0xFF,0xE7,0x98,0x80,0xBC,0xA4,
  0x00,0x00,0xE0,0xE0,0xF0,0xF0,0xF0,0xF0,
  0xF0,0x70,0xF0,0xB0,0xF0,0xD0,0x7C,0x54,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x01,0x01,0x3A,0x3B,
  0x18,0x00,0x7F,0x00,0x7F,0x00,0x7F,0x3C,
  0x7F,0x40,0xBF,0xFF,0x00,0xFF,0x00,0xFF,
  0xFC,0x84,0xF8,0x08,0xE0,0x00,0xE0,0x00,
  0xF0,0x30,0xC8,0xF8,0x04,0xFC,0x06,0xFE,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,
  0xFC,0xEF,0xFC,0x87,0xFC,0x87,0xFC,0x87,
  0xFC,0xC7,0x7B,0x7B,0x00,0x00,0x00,0x00,
  0x00,0xFF,0x40,0xFF,0x40,0xFF,0x40,0xFF,
  0xC0,0xFF,0x80,0xFF,0x80,0xFF,0x8F,0xFF,
  0x01,0xFF,0x01,0xFE,0x01,0xFE,0x09,0xFE,
  0x0F,0xFE,0x09,0xF9,0x08,0xF8,0x84,0xFC,
  0xF0,0x30,0xF0,0x10,0xF0,0x10,0xF0,0x10,
  0xF0,0x10,0xE0,0xE0,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x01,0x01,0x03,0x03,
  0xF8,0xFF,0xC2,0xFF,0x42,0x7F,0x42,0x7F,
  0x42,0x7F,0x21,0x3F,0xFF,0xFF,0xFF,0xFF,
  0x7C,0xFC,0x08,0xF8,0x08,0xF8,0x08,0xF8,
  0x08,0xF8,0x04,0xFC,0xFC,0xFC,0xF8,0xF8
};

unsigned char audience_neutral[] =
{
  0x29,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,
  0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2B,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x2F,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,
  0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2D,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,
  0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,
  0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
  0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
  0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,
  0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,
  0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,
  0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,
  0x28,0x42,0x3E,0x3F,0x3D,0x41,0x28,0x42,0x3E,0x3F,
  0x3D,0x41,0x28,0x42,0x3E,0x3F,0x3D,0x41,0x28,0x42,
  0x28,0x3B,0x3C,0x28,0x3B,0x3C,0x28,0x3B,0x3C,0x28,
  0x3B,0x3C,0x28,0x3B,0x3C,0x28,0x3B,0x3C,0x28,0x3B,
  0x28,0x38,0x39,0x3A,0x28,0x38,0x39,0x3A,0x28,0x38,
  0x39,0x3A,0x28,0x38,0x39,0x3A,0x28,0x38,0x39,0x3A,
  0x28,0x35,0x36,0x37,0x28,0x35,0x36,0x37,0x28,0x35,
  0x36,0x37,0x28,0x35,0x36,0x37,0x28,0x35,0x36,0x37,
  0x28,0x32,0x33,0x34,0x28,0x32,0x33,0x34,0x28,0x32,
  0x33,0x34,0x28,0x32,0x33,0x34,0x28,0x32,0x33,0x34
};

unsigned char audience_angry[] =
{
  0x29,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,
  0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2B,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x2F,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,
  0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2D,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,
  0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,
  0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
  0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
  0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,
  0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,
  0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,
  0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,
  0x28,0x42,0x3E,0x3F,0x3D,0x41,0x28,0x42,0x3E,0x3F,
  0x3D,0x41,0x28,0x42,0x3E,0x3F,0x3D,0x41,0x28,0x42,
  0x28,0x3B,0x3C,0x28,0x3B,0x3C,0x28,0x3B,0x3C,0x28,
  0x3B,0x3C,0x28,0x3B,0x3C,0x28,0x3B,0x3C,0x28,0x3B,
  0x28,0x38,0x39,0x3A,0x28,0x38,0x39,0x3A,0x28,0x38,
  0x39,0x3A,0x28,0x38,0x39,0x3A,0x28,0x38,0x39,0x3A,
  0x28,0x49,0x4A,0x4B,0x28,0x49,0x4A,0x4B,0x28,0x49,
  0x4A,0x4B,0x28,0x49,0x4A,0x4B,0x28,0x49,0x4A,0x4B,
  0x28,0x32,0x33,0x34,0x28,0x32,0x33,0x34,0x28,0x32,
  0x33,0x34,0x28,0x32,0x33,0x34,0x28,0x32,0x33,0x34
};

unsigned char audience_happy[] =
{
  0x29,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,
  0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2B,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x2F,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,
  0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2D,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,
  0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,
  0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
  0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
  0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,
  0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,
  0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,
  0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,
  0x28,0x42,0x3E,0x3F,0x3D,0x41,0x28,0x42,0x3E,0x3F,
  0x3D,0x41,0x28,0x42,0x3E,0x3F,0x3D,0x41,0x28,0x42,
  0x28,0x3B,0x3C,0x28,0x3B,0x3C,0x28,0x3B,0x3C,0x28,
  0x3B,0x3C,0x28,0x3B,0x3C,0x28,0x3B,0x3C,0x28,0x3B,
  0x28,0x38,0x39,0x3A,0x28,0x38,0x39,0x3A,0x28,0x38,
  0x39,0x3A,0x28,0x38,0x39,0x3A,0x28,0x38,0x39,0x3A,
  0x28,0x48,0x46,0x47,0x28,0x48,0x46,0x47,0x28,0x48,
  0x46,0x47,0x28,0x48,0x46,0x47,0x28,0x48,0x46,0x47,
  0x28,0x32,0x33,0x34,0x28,0x32,0x33,0x34,0x28,0x32,
  0x33,0x34,0x28,0x32,0x33,0x34,0x28,0x32,0x33,0x34
};

unsigned char audience_tileset[] =
{
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x01,0x01,0x01,0x01,0x33,0x33,0x1B,0x1B,
  0x4F,0x4F,0x1F,0x1F,0x3F,0x3F,0xFD,0xFD,
  0x01,0x01,0x81,0x81,0xC3,0xC3,0xE7,0xE7,
  0xFF,0xFF,0x7E,0x7E,0x3C,0x3C,0x18,0x18,
  0x80,0x80,0x80,0x80,0xD4,0xD4,0xEC,0xEC,
  0xF8,0xF8,0xF0,0xF0,0x7C,0x7C,0xFF,0xFF,
  0x1E,0x1E,0x3C,0x3C,0x78,0x78,0xF0,0xF0,
  0xF0,0xF0,0x78,0x78,0x3C,0x3C,0x0F,0x0F,
  0xBF,0xBF,0xFC,0xFC,0xF8,0xF8,0xF4,0xF4,
  0xD8,0xD8,0xCC,0xCC,0x80,0x80,0x80,0x80,
  0x18,0x18,0x3C,0x3C,0x7E,0x7E,0x7F,0x7F,
  0xE7,0xE7,0xC3,0xC3,0x81,0x81,0x80,0x80,
  0xFF,0xFF,0x3F,0x3F,0x0F,0x0F,0x1F,0x1F,
  0x37,0x37,0x23,0x23,0x09,0x09,0x01,0x01,
  0x78,0x78,0x3C,0x3C,0x1E,0x1E,0x0F,0x0F,
  0x0F,0x0F,0x3C,0x3C,0x78,0x78,0xF0,0xF0,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x03,0x02,0x01,0x01,0x0E,0x0F,0x10,0x1F,
  0x20,0x3F,0x40,0x7F,0x80,0xFF,0x82,0xFF,
  0xFF,0x00,0xFF,0x00,0xFF,0xFF,0x00,0xFF,
  0x00,0xFF,0x00,0xFF,0x00,0xFF,0x00,0xFF,
  0xC0,0x40,0x80,0x80,0x70,0xF0,0x08,0xF8,
  0x04,0xFC,0x02,0xFE,0x01,0xFF,0x41,0xFF,
  0x0F,0x09,0x1E,0x08,0x1E,0x04,0x1E,0x14,
  0x1F,0x14,0x0F,0x08,0x0F,0x08,0x07,0x04,
  0xFF,0xE7,0x18,0x00,0x5A,0x42,0x5A,0x42,
  0xFF,0x00,0xFF,0x00,0xFF,0x42,0xFF,0x3C,
  0xF0,0x90,0x78,0x10,0x78,0x20,0x78,0x28,
  0xF8,0x28,0xF0,0x10,0xF0,0x10,0xE0,0x20,
  0x00,0x00,0x01,0x01,0x02,0x03,0x04,0x07,
  0x08,0x0F,0x10,0x1F,0x10,0x1F,0x3F,0x3F,
  0x00,0x00,0xFF,0xFF,0x00,0xFF,0x01,0xFF,
  0x06,0xFF,0x1E,0xF3,0x7F,0xE1,0xFF,0x80,
  0x00,0x40,0x80,0xE0,0xC0,0xF0,0x20,0xE0,
  0x10,0xF0,0x10,0xF0,0x10,0xF0,0xF0,0xF0,
  0x0F,0x0F,0x10,0x1F,0x20,0x3F,0x20,0x3F,
  0x20,0x3F,0x40,0x7F,0x40,0x7F,0x40,0x7F,
  0xF0,0xF0,0x08,0xF8,0x04,0xFC,0x04,0xFC,
  0x04,0xFC,0x02,0xFE,0x02,0xFE,0x02,0xFE,
  0x00,0x03,0x00,0x07,0x00,0x1F,0x0F,0x0A,
  0x0F,0x08,0x0F,0x09,0x07,0x04,0x03,0x02,
  0x00,0xE0,0x00,0xF0,0x00,0xF0,0xF0,0x50,
  0xF0,0x10,0xF0,0x90,0xE0,0x20,0xC0,0x40,
  0x24,0x3C,0x42,0x7E,0x81,0xFF,0x81,0xFF,
  0x81,0xFF,0x81,0xFF,0x81,0xFF,0x81,0xFF,
  0x00,0x00,0x3C,0x3C,0x42,0x7E,0xA5,0xFF,
  0x81,0xFF,0x99,0xFF,0x42,0x7E,0x3C,0x3C,
  0x04,0xEC,0x02,0xFE,0x01,0xFF,0xF1,0x5F,
  0xF1,0x1F,0xF1,0x9F,0xE1,0x3F,0xC1,0x7F,
  0x24,0x3F,0x40,0x7F,0x80,0xFF,0x8F,0xFA,
  0x8F,0xF8,0x8F,0xF9,0x87,0xFC,0x83,0xFE,
  0x81,0x81,0x42,0xC3,0x24,0xE7,0x24,0xE7,
  0x42,0xC3,0x81,0x81,0x66,0xE7,0x18,0xFF,
  0x18,0x18,0x3C,0x3C,0x3C,0x3C,0x18,0x18,
  0x3C,0x3C,0x7E,0x7E,0xFF,0xFF,0xFF,0xFF,
  0x00,0x00,0x00,0x00,0x81,0x81,0xC3,0xC3,
  0xC3,0xC3,0x81,0x81,0xC3,0xC3,0xFF,0xFF,
  0xFF,0xC3,0xFF,0x24,0xFF,0x00,0xFF,0x00,
  0xFF,0x00,0x81,0xFF,0xC3,0x7E,0xFF,0x3C,
  0xF0,0x10,0xF8,0x90,0xF8,0x20,0xF8,0x28,
  0xF8,0x28,0xF0,0x10,0xF0,0x10,0xE0,0x20,
  0x0F,0x08,0x1F,0x09,0x1F,0x04,0x1F,0x14,
  0x1F,0x14,0x0F,0x08,0x0F,0x08,0x07,0x04,
  0x0F,0x08,0x1F,0x08,0x1F,0x05,0x1F,0x14,
  0x1F,0x14,0x0F,0x08,0x0F,0x08,0x07,0x04,
  0xFF,0x00,0xFF,0x00,0xFF,0xC3,0xFF,0x00,
  0xFF,0x00,0xFF,0x00,0xFF,0x3C,0xFF,0x00,
  0xF0,0x10,0xF8,0x10,0xF8,0xA0,0xF8,0x28,
  0xF8,0x28,0xF0,0x10,0xF0,0x10,0xE0,0x20,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x80,
  0x7F,0x80,0x7F,0x80,0x7F,0x80,0xC0,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x80,
  0x7F,0x80,0x7F,0x80,0x7F,0x80,0x0F,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x81,
  0x7F,0x87,0x7F,0x9F,0xFF,0xFF,0xFF,0xFF,
  0x7F,0x9F,0x3F,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
  0x40,0x40,0x40,0x40,0xE0,0xE0,0xFC,0xFC,
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
  0x00,0x00,0x46,0x46,0xFD,0xFB,0xFB,0xFD,
  0x46,0x46,0x40,0x40,0x40,0x40,0x40,0x40,
  0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x03,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,
  0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0xFF,0xFF,0xFF,0xF1,0xFF,0x90,
  0x7F,0x24,0xFF,0xE7,0x98,0x80,0xBC,0xA4,
  0x00,0x00,0xE0,0xE0,0xF0,0xF0,0xF0,0xF0,
  0xF0,0x70,0xF0,0xB0,0xF0,0xD0,0x7C,0x54,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x01,0x01,0x3A,0x3B,
  0x18,0x00,0x7F,0x00,0x7F,0x00,0x7F,0x3C,
  0x7F,0x40,0xBF,0xFF,0x00,0xFF,0x00,0xFF,
  0xFC,0x84,0xF8,0x08,0xE0,0x00,0xE0,0x00,
  0xF0,0x30,0xC8,0xF8,0x04,0xFC,0x06,0xFE,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,
  0xFC,0xEF,0xFC,0x87,0xFC,0x87,0xFC,0x87,
  0xFC,0xC7,0x7B,0x7B,0x00,0x00,0x00,0x00,
  0x00,0xFF,0x40,0xFF,0x40,0xFF,0x40,0xFF,
  0xC0,0xFF,0x80,0xFF,0x80,0xFF,0x8F,0xFF,
  0x01,0xFF,0x01,0xFE,0x01,0xFE,0x09,0xFE,
  0x0F,0xFE,0x09,0xF9,0x08,0xF8,0x84,0xFC,
  0xF0,0x30,0xF0,0x10,0xF0,0x10,0xF0,0x10,
  0xF0,0x10,0xE0,0xE0,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x01,0x01,0x03,0x03,
  0xF8,0xFF,0xC2,0xFF,0x42,0x7F,0x42,0x7F,
  0x42,0x7F,0x21,0x3F,0xFF,0xFF,0xFF,0xFF,
  0x7C,0xFC,0x08,0xF8,0x08,0xF8,0x08,0xF8,
  0x08,0xF8,0x04,0xFC,0xFC,0xFC,0xF8,0xF8
};

int joypad_current = 0, joypad_previous = 0;
int bubble_x = 1, bubble_y = 1, bubble_w = 18, bubble_h = 5;
int bkg_rendered = 0;

int phase = 0;
int screen = -1;
int points = 0;
int selected_response = 0;
int correct_response = 0;

void set_bubble_text(unsigned char *text)
{
    set_bkg_tiles(bubble_x, bubble_y, bubble_w, bubble_h, text);
}

void clear_bubble(void)
{
    set_bkg_tiles(bubble_x, bubble_y, bubble_w, bubble_h, empty_bubble);
}

void complete_phase(int addPoint)
{
    clear_bubble();
    selected_response = 0;
    points += addPoint;

    if(phase == 2) 
    {
      // end game
      screen = 5;
    } else 
    {
      phase++;
      screen = 0;
    }
}

void init(void)
{
    clear_bubble();
    phase = 0;
    screen = 0;
    selected_response = 0;
    points = 0;
}

void main(void)
{
    DISPLAY_ON;

    SHOW_BKG;
    SHOW_WIN;
    
    // fonts
    font_t min_font;
    font_init();
    min_font = font_load(font_min);
    font_set(min_font);
    set_bkg_data(37, 4, additional_character);

    while(1) {
        joypad_previous = joypad_current;
        joypad_current = joypad();

        switch (screen)
        {
            // title screen
            case -1:
                set_win_tiles(5, 6, 12, 4, title);
                if(joypad_current & J_START)
                {
                    HIDE_WIN;

                    // next screen
                    screen++;
                }
                break;

            // joke screen
            case 0:
                if(bkg_rendered == 0) 
                {
                    set_bkg_data(40, 59, comedian_tileset);
                    set_bkg_tiles(0, 0, 20, 18, comedian_background);
                    bkg_rendered = 1;
                }

                if(phase == 0) 
                {
                  set_bubble_text(joke_1);
                } 
                else if(phase == 1)
                {
                  set_bubble_text(joke_2);
                } 
                else if(phase == 2)
                {
                  set_bubble_text(joke_3);
                }

                if(joypad_current & J_A)
                {
                    clear_bubble();
                    bkg_rendered = 0;
                    screen++;
                }
                break;
                
            // heckler screen
            case 1:
                set_bkg_data(40, 59, audience_tileset);
                set_bkg_tiles(0, 0, 20, 18, audience_neutral);

                if(phase == 0) 
                {
                  set_bubble_text(heckler_1);
                } 
                else if(phase == 1)
                {
                  set_bubble_text(heckler_2);
                } 
                else if(phase == 2)
                {
                  set_bubble_text(heckler_3);
                }

                delay(2000);
                screen++;
                break;

            // response screen
            case 2:
                // which is correct response
                if(phase == 0) 
                {
                  correct_response = 1;
                } 
                else if(phase == 1)
                {
                  correct_response = 0;
                } 
                else if(phase == 2)
                {
                  correct_response = 1;
                }

                if(bkg_rendered == 0) 
                {
                    set_bkg_data(40, 59, comedian_tileset);
                    set_bkg_tiles(0, 0, 20, 18, comedian_background);
                    bkg_rendered = 1;
                }

                // select response
                if(selected_response == 0)
                {
                  if(phase == 0) 
                  {
                    options_1[19] = 34;
                    options_1[55] = 0;
                  } 
                  else if(phase == 1)
                  {
                    options_2[19] = 34;
                    options_2[55] = 0;
                  } 
                  else if(phase == 2)
                  {
                    options_3[19] = 34;
                    options_3[55] = 0;
                  }
                } 
                else
                {
                  if(phase == 0) 
                  {
                    options_1[19] = 0;
                    options_1[55] = 34;
                  } 
                  else if(phase == 1)
                  {
                    options_2[19] = 0;
                    options_2[55] = 34;
                  } 
                  else if(phase == 2)
                  {
                    options_3[19] = 0;
                    options_3[55] = 34;
                  }
                }

                if(joypad_current & J_DOWN) 
                {
                    if(selected_response == 0) 
                    {
                        selected_response = 1;
                    }
                }

                if(joypad_current & J_UP) 
                {
                    if(selected_response == 1)
                    {
                        selected_response = 0;
                    }
                }

                if(phase == 0) 
                {
                    set_bubble_text(options_1);
                } 
                else if(phase == 1)
                {
                    set_bubble_text(options_2);
                } 
                else if(phase == 2)
                {
                    set_bubble_text(options_3);
                }

                if(joypad_current & J_A) 
                {
                    if(selected_response == 0)
                    {
                        clear_bubble();
                        bkg_rendered = 0;

                        if(correct_response == 0) 
                        {
                          screen = 4;
                        }
                        else
                        {
                          screen = 3;
                        }

                    }

                    if(selected_response == 1)
                    {
                        clear_bubble();
                        bkg_rendered = 0;

                        if(correct_response == 1) 
                        {
                          screen = 4;
                        }
                        else
                        {
                          screen = 3;
                        }
                    }
                }

                break;

            // angry response screen
            case 3:
                set_bkg_data(40, 59, audience_tileset);
                set_bkg_tiles(0, 0, 20, 18, audience_angry);
                set_bubble_text(angry_bubble);
                
                delay(3000);
                complete_phase(0);

                break;

            // happy response screen
            case 4:
                set_bkg_data(40, 59, audience_tileset);
                set_bkg_tiles(0, 0, 20, 18, audience_happy);
                set_bubble_text(happy_bubble);

                delay(3000);
                complete_phase(1);
     
                break;

            // score screen
            case 5:
                clear_bubble();
                score[19] = points + 1;
                set_win_tiles(5, 6, 12, 4, score);

                SHOW_WIN;
                if(joypad_current & J_START)
                {
                    HIDE_WIN;
                    init();
                }
                break;
            
            default:
                break;
        }

		// Done processing, yield CPU and wait for start of next frame
        vsync();
    }
}