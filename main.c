#include <gb/gb.h>
#include <stdint.h>
#include <gbdk/font.h>

// TEXTS

unsigned char title[]=
{
  0x12,0xF,0xD,0x15,0x16,0xF,0x1C,0x0,0x0,0x0,0x0,0x0,
  0x18,0x13,0x11,0x12,0x1E,0x17,0xB,0x1C,0xF,0x0,0x0,0x0,
  0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
};

unsigned char press_start[]=
{
  0x1A, 0x1C, 0xF, 0x1D, 0x1D,0x0, 0x1D, 0x1E, 0xB, 0x1C, 0x1E,0x0,
};

unsigned char empty_bubble[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char test_bubble[]=
{
  29,11,23,26,22,15,0,30,15,34,30,0,30,25,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  29,26,15,15,13,18,0,12,31,12,12,22,15,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char options_bubble1[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0x19,0x1A,0x1E,0x13,0x19,0x18,0,0xB,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0x19,0x1A,0x1E,0x13,0x19,0x18,0,0xC,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char heckler_shout1[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,11,11,11,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char screen_3[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

unsigned char screen_4[]=
{
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

const uint8_t circlesprite8x8_tiles[32] = {
	0x3c,0x3c,0x7e,0x76,
	0xff,0xe7,0xff,0xf7,
	0xff,0xf7,0xff,0xf7,
	0x7e,0x62,0x3c,0x3c,
	
0x3c,0x3c,0x7e,0x7e,
	0xff,0xc3,0xff,0xfb,
	0xff,0xc3,0xff,0xdf,
	0x7e,0x42,0x3c,0x3c
	
};

// BACKGROUNDS

unsigned char comedian_background[] =
{
  0x29,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,
  0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2B,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x2F,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,
  0x2E,0x2E,0x2E,0x2E,0x2E,0x38,0x2E,0x2E,0x2E,0x2D,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x3A,0x39,0x37,0x36,0x34,0x35,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x3C,0x3B,0x28,0x28,0x28,0x28,0x33,0x32,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x3D,0x28,0x28,0x55,0x56,0x57,0x28,0x49,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x3E,0x28,0x54,0x53,0x58,0x59,0x5A,0x5B,0x48,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x3F,0x28,0x28,0x52,0x5C,0x5D,0x5E,0x5F,0x47,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x40,0x50,0x51,0x60,0x61,0x62,0x28,0x46,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x41,0x42,0x43,0x43,0x43,0x43,0x44,0x45,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x4A,0x4B,0x4C,0x4D,0x4E,0x4F,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,
  0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31
};

unsigned char comedian_tileset[] =
{
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x0F,0x0F,0x1F,0x1F,
  0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,
  0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x00,0x00,0x00,0x00,0xF0,0xF0,0xF8,0xF8,
  0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,
  0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,
  0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,
  0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,
  0xF8,0xF8,0xF0,0xF0,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,
  0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,
  0x1F,0x1F,0x0F,0x0F,0x00,0x00,0x00,0x00,
  0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,
  0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0x7F,0x7F,0x7F,0x7F,0x3F,0x3F,
  0x0F,0x0F,0x07,0x07,0x03,0x03,0x01,0x01,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0x1F,0x1F,0x07,0x07,
  0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0x3F,0x3F,0x1F,0x1F,
  0x0F,0x0F,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xDF,0xDF,0x0F,0x0F,0x07,0x07,0x03,0x03,
  0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0x7F,0x7F,0x3F,0x3F,
  0xFF,0xFF,0xF8,0xF8,0xE0,0xE0,0x80,0x80,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFE,0xFE,0xFC,0xFC,0xF0,0xF0,0xE0,0xE0,
  0xC0,0xC0,0x80,0x80,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0xFE,
  0xFC,0xFC,0xF8,0xF8,0xF8,0xF8,0xF0,0xF0,
  0xE0,0xE0,0xE0,0xE0,0xC0,0xC0,0xC0,0xC0,
  0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0xFE,
  0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,
  0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,
  0xC0,0xC0,0xC0,0xC0,0xE0,0xE0,0xE0,0xE0,
  0xFF,0xFF,0xF0,0xFF,0xF8,0xFF,0xFF,0xFF,
  0xFF,0xFE,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0x00,0xFF,0x00,0xFF,0xFF,0xFF,
  0x7F,0x80,0x7F,0x80,0xFF,0x80,0xFF,0xC0,
  0xFF,0xFF,0x00,0xFF,0x00,0xFF,0xFF,0xFF,
  0x7F,0x80,0x7F,0x80,0x7F,0x80,0x7F,0x80,
  0xFF,0xFF,0x00,0xFF,0x00,0xFF,0xFF,0xFF,
  0x7F,0x81,0x7F,0x83,0x7F,0x87,0x7F,0x8F,
  0xFF,0xFF,0x7F,0xFF,0x7F,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x03,0x03,0x07,0x07,0x07,0x07,0x07,0x07,
  0x0F,0x0F,0x0F,0x0F,0x1F,0x1F,0x1F,0x1F,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x01,0x01,0x03,0x03,0x03,0x03,0x03,0x03,
  0x03,0x03,0x03,0x03,0x03,0x03,0x01,0x01,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x1F,0x1F,0x1F,0x1F,0x0F,0x0F,0x0F,0x0F,
  0x07,0x07,0x07,0x07,0x07,0x07,0x03,0x03,
  0xFF,0xE0,0xF0,0xFF,0xFF,0xFC,0xFF,0xFE,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x80,
  0x7F,0x80,0xFF,0xC0,0xFF,0xF0,0xFF,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x80,
  0x7F,0x80,0x7F,0x80,0x7F,0x80,0xC0,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x80,
  0x7F,0x80,0x7F,0x80,0x7F,0x80,0x0F,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x81,
  0x7F,0x87,0x7F,0x9F,0xFF,0xFF,0xFF,0xFF,
  0x7F,0x9F,0x3F,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
  0x40,0x40,0x40,0x40,0xE0,0xE0,0xFC,0xFC,
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
  0x00,0x00,0x46,0x46,0xFD,0xFB,0xFB,0xFD,
  0x46,0x46,0x40,0x40,0x40,0x40,0x40,0x40,
  0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x03,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,
  0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0xFF,0xFF,0xFF,0xF1,0xFF,0x90,
  0x7F,0x24,0xFF,0xE7,0x98,0x80,0xBC,0xA4,
  0x00,0x00,0xE0,0xE0,0xF0,0xF0,0xF0,0xF0,
  0xF0,0x70,0xF0,0xB0,0xF0,0xD0,0x7C,0x54,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x01,0x01,0x3A,0x3B,
  0x18,0x00,0x7F,0x00,0x7F,0x00,0x7F,0x3C,
  0x7F,0x40,0xBF,0xFF,0x00,0xFF,0x00,0xFF,
  0xFC,0x84,0xF8,0x08,0xE0,0x00,0xE0,0x00,
  0xF0,0x30,0xC8,0xF8,0x04,0xFC,0x06,0xFE,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,
  0xFC,0xEF,0xFC,0x87,0xFC,0x87,0xFC,0x87,
  0xFC,0xC7,0x7B,0x7B,0x00,0x00,0x00,0x00,
  0x00,0xFF,0x40,0xFF,0x40,0xFF,0x40,0xFF,
  0xC0,0xFF,0x80,0xFF,0x80,0xFF,0x8F,0xFF,
  0x01,0xFF,0x01,0xFE,0x01,0xFE,0x09,0xFE,
  0x0F,0xFE,0x09,0xF9,0x08,0xF8,0x84,0xFC,
  0xF0,0x30,0xF0,0x10,0xF0,0x10,0xF0,0x10,
  0xF0,0x10,0xE0,0xE0,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x01,0x01,0x03,0x03,
  0xF8,0xFF,0xC2,0xFF,0x42,0x7F,0x42,0x7F,
  0x42,0x7F,0x21,0x3F,0xFF,0xFF,0xFF,0xFF,
  0x7C,0xFC,0x08,0xF8,0x08,0xF8,0x08,0xF8,
  0x08,0xF8,0x04,0xFC,0xFC,0xFC,0xF8,0xF8
};

unsigned char audience_neutral[] =
{
  0x29,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,
  0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2B,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x30,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x2C,
  0x2F,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,
  0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2E,0x2D,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,0x28,
  0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,
  0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,0x45,
  0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
  0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,
  0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,
  0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x43,
  0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,
  0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,0x28,0x40,
  0x28,0x42,0x3E,0x3F,0x3D,0x41,0x28,0x42,0x3E,0x3F,
  0x3D,0x41,0x28,0x42,0x3E,0x3F,0x3D,0x41,0x28,0x42,
  0x28,0x3B,0x3C,0x28,0x3B,0x3C,0x28,0x3B,0x3C,0x28,
  0x3B,0x3C,0x28,0x3B,0x3C,0x28,0x3B,0x3C,0x28,0x3B,
  0x28,0x38,0x39,0x3A,0x28,0x38,0x39,0x3A,0x28,0x38,
  0x39,0x3A,0x28,0x38,0x39,0x3A,0x28,0x38,0x39,0x3A,
  0x28,0x35,0x36,0x37,0x28,0x35,0x36,0x37,0x28,0x35,
  0x36,0x37,0x28,0x35,0x36,0x37,0x28,0x35,0x36,0x37,
  0x28,0x32,0x33,0x34,0x28,0x32,0x33,0x34,0x28,0x32,
  0x33,0x34,0x28,0x32,0x33,0x34,0x28,0x32,0x33,0x34
};

unsigned char audience_tileset[] =
{
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x01,0x01,0x01,0x01,0x33,0x33,0x1B,0x1B,
  0x4F,0x4F,0x1F,0x1F,0x3F,0x3F,0xFD,0xFD,
  0x01,0x01,0x81,0x81,0xC3,0xC3,0xE7,0xE7,
  0xFF,0xFF,0x7E,0x7E,0x3C,0x3C,0x18,0x18,
  0x80,0x80,0x80,0x80,0xD4,0xD4,0xEC,0xEC,
  0xF8,0xF8,0xF0,0xF0,0x7C,0x7C,0xFF,0xFF,
  0x1E,0x1E,0x3C,0x3C,0x78,0x78,0xF0,0xF0,
  0xF0,0xF0,0x78,0x78,0x3C,0x3C,0x0F,0x0F,
  0xBF,0xBF,0xFC,0xFC,0xF8,0xF8,0xF4,0xF4,
  0xD8,0xD8,0xCC,0xCC,0x80,0x80,0x80,0x80,
  0x18,0x18,0x3C,0x3C,0x7E,0x7E,0x7F,0x7F,
  0xE7,0xE7,0xC3,0xC3,0x81,0x81,0x80,0x80,
  0xFF,0xFF,0x3F,0x3F,0x0F,0x0F,0x1F,0x1F,
  0x37,0x37,0x23,0x23,0x09,0x09,0x01,0x01,
  0x78,0x78,0x3C,0x3C,0x1E,0x1E,0x0F,0x0F,
  0x0F,0x0F,0x3C,0x3C,0x78,0x78,0xF0,0xF0,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x03,0x02,0x01,0x01,0x0E,0x0F,0x10,0x1F,
  0x20,0x3F,0x40,0x7F,0x80,0xFF,0x82,0xFF,
  0xFF,0x00,0xFF,0x00,0xFF,0xFF,0x00,0xFF,
  0x00,0xFF,0x00,0xFF,0x00,0xFF,0x00,0xFF,
  0xC0,0x40,0x80,0x80,0x70,0xF0,0x08,0xF8,
  0x04,0xFC,0x02,0xFE,0x01,0xFF,0x41,0xFF,
  0x0F,0x09,0x1E,0x08,0x1E,0x04,0x1E,0x14,
  0x1F,0x14,0x0F,0x08,0x0F,0x08,0x07,0x04,
  0xFF,0xE7,0x18,0x00,0x5A,0x42,0x5A,0x42,
  0xFF,0x00,0xFF,0x00,0xFF,0x42,0xFF,0x3C,
  0xF0,0x90,0x78,0x10,0x78,0x20,0x78,0x28,
  0xF8,0x28,0xF0,0x10,0xF0,0x10,0xE0,0x20,
  0x00,0x00,0x01,0x01,0x02,0x03,0x04,0x07,
  0x08,0x0F,0x10,0x1F,0x10,0x1F,0x3F,0x3F,
  0x00,0x00,0xFF,0xFF,0x00,0xFF,0x01,0xFF,
  0x06,0xFF,0x1E,0xF3,0x7F,0xE1,0xFF,0x80,
  0x00,0x40,0x80,0xE0,0xC0,0xF0,0x20,0xE0,
  0x10,0xF0,0x10,0xF0,0x10,0xF0,0xF0,0xF0,
  0x0F,0x0F,0x10,0x1F,0x20,0x3F,0x20,0x3F,
  0x20,0x3F,0x40,0x7F,0x40,0x7F,0x40,0x7F,
  0xF0,0xF0,0x08,0xF8,0x04,0xFC,0x04,0xFC,
  0x04,0xFC,0x02,0xFE,0x02,0xFE,0x02,0xFE,
  0x00,0x03,0x00,0x07,0x00,0x1F,0x0F,0x0A,
  0x0F,0x08,0x0F,0x09,0x07,0x04,0x03,0x02,
  0x00,0xE0,0x00,0xF0,0x00,0xF0,0xF0,0x50,
  0xF0,0x10,0xF0,0x90,0xE0,0x20,0xC0,0x40,
  0x24,0x3C,0x42,0x7E,0x81,0xFF,0x81,0xFF,
  0x81,0xFF,0x81,0xFF,0x81,0xFF,0x81,0xFF,
  0x00,0x00,0x3C,0x3C,0x42,0x7E,0xA5,0xFF,
  0x81,0xFF,0x99,0xFF,0x42,0x7E,0x3C,0x3C,
  0x04,0xEC,0x02,0xFE,0x01,0xFF,0xF1,0x5F,
  0xF1,0x1F,0xF1,0x9F,0xE1,0x3F,0xC1,0x7F,
  0x24,0x3F,0x40,0x7F,0x80,0xFF,0x8F,0xFA,
  0x8F,0xF8,0x8F,0xF9,0x87,0xFC,0x83,0xFE,
  0x81,0x81,0x42,0xC3,0x24,0xE7,0x24,0xE7,
  0x42,0xC3,0x81,0x81,0x66,0xE7,0x18,0xFF,
  0x18,0x18,0x3C,0x3C,0x3C,0x3C,0x18,0x18,
  0x3C,0x3C,0x7E,0x7E,0xFF,0xFF,0xFF,0xFF,
  0x00,0x00,0x00,0x00,0x81,0x81,0xC3,0xC3,
  0xC3,0xC3,0x81,0x81,0xC3,0xC3,0xFF,0xFF,
  0x03,0x03,0x07,0x07,0x07,0x07,0x07,0x07,
  0x0F,0x0F,0x0F,0x0F,0x1F,0x1F,0x1F,0x1F,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x01,0x01,0x03,0x03,0x03,0x03,0x03,0x03,
  0x03,0x03,0x03,0x03,0x03,0x03,0x01,0x01,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x1F,0x1F,0x1F,0x1F,0x0F,0x0F,0x0F,0x0F,
  0x07,0x07,0x07,0x07,0x07,0x07,0x03,0x03,
  0xFF,0xE0,0xF0,0xFF,0xFF,0xFC,0xFF,0xFE,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x80,
  0x7F,0x80,0xFF,0xC0,0xFF,0xF0,0xFF,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x80,
  0x7F,0x80,0x7F,0x80,0x7F,0x80,0xC0,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x80,
  0x7F,0x80,0x7F,0x80,0x7F,0x80,0x0F,0xFF,
  0x7F,0x80,0x00,0xFF,0x7F,0x80,0x7F,0x81,
  0x7F,0x87,0x7F,0x9F,0xFF,0xFF,0xFF,0xFF,
  0x7F,0x9F,0x3F,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
  0x40,0x40,0x40,0x40,0xE0,0xE0,0xFC,0xFC,
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
  0x00,0x00,0x46,0x46,0xFD,0xFB,0xFB,0xFD,
  0x46,0x46,0x40,0x40,0x40,0x40,0x40,0x40,
  0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x03,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,
  0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0xFF,0xFF,0xFF,0xF1,0xFF,0x90,
  0x7F,0x24,0xFF,0xE7,0x98,0x80,0xBC,0xA4,
  0x00,0x00,0xE0,0xE0,0xF0,0xF0,0xF0,0xF0,
  0xF0,0x70,0xF0,0xB0,0xF0,0xD0,0x7C,0x54,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x01,0x01,0x3A,0x3B,
  0x18,0x00,0x7F,0x00,0x7F,0x00,0x7F,0x3C,
  0x7F,0x40,0xBF,0xFF,0x00,0xFF,0x00,0xFF,
  0xFC,0x84,0xF8,0x08,0xE0,0x00,0xE0,0x00,
  0xF0,0x30,0xC8,0xF8,0x04,0xFC,0x06,0xFE,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,
  0xFC,0xEF,0xFC,0x87,0xFC,0x87,0xFC,0x87,
  0xFC,0xC7,0x7B,0x7B,0x00,0x00,0x00,0x00,
  0x00,0xFF,0x40,0xFF,0x40,0xFF,0x40,0xFF,
  0xC0,0xFF,0x80,0xFF,0x80,0xFF,0x8F,0xFF,
  0x01,0xFF,0x01,0xFE,0x01,0xFE,0x09,0xFE,
  0x0F,0xFE,0x09,0xF9,0x08,0xF8,0x84,0xFC,
  0xF0,0x30,0xF0,0x10,0xF0,0x10,0xF0,0x10,
  0xF0,0x10,0xE0,0xE0,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x01,0x01,0x03,0x03,
  0xF8,0xFF,0xC2,0xFF,0x42,0x7F,0x42,0x7F,
  0x42,0x7F,0x21,0x3F,0xFF,0xFF,0xFF,0xFF,
  0x7C,0xFC,0x08,0xF8,0x08,0xF8,0x08,0xF8,
  0x08,0xF8,0x04,0xFC,0xFC,0xFC,0xF8,0xF8
};



int joypadCurrent = 0, joypadPrevious = 0;

int phase = 0;
int screen = -1;

int bkgRendered = 0;
int bubbleX = 1, bubbleY = 1, bubbleW = 18, bubbleH = 5;
int selectedResponse = 0;

void set_bubble_text(unsigned char *text)
{
    set_bkg_tiles(bubbleX, bubbleY, bubbleW, bubbleH, text);
}

void clear_bubble(void)
{
    set_bkg_tiles(bubbleX, bubbleY, bubbleW, bubbleH, empty_bubble);
}

void complete_phase(void)
{
    selectedResponse = 0;
    clear_bubble();
    screen = 0;
    phase++;
}

void main(void)
{
    DISPLAY_ON;

    SHOW_BKG;
    SHOW_SPRITES;
    SPRITES_8x8;
    SHOW_WIN;
    
    // fonts
    font_t min_font;
    font_init();
    min_font = font_load(font_min);
    font_set(min_font);

    while(1) {

        joypadPrevious = joypadCurrent;
        joypadCurrent = joypad();

        switch (screen)
        {
            case -1:
                set_win_tiles(5, 6, 12, 4, title);
                if(joypadCurrent & J_START)
                {
                    HIDE_WIN;

                    // next screen
                    screen++;
                }
                break;
            case 0:

                if(bkgRendered == 0) 
                {
                    set_bkg_data(40, 59, comedian_tileset);
                    set_bkg_tiles(0, 0, 20, 18, comedian_background);
                    bkgRendered = 1;
                }

                set_bubble_text(test_bubble);

                if(joypadCurrent & J_A)
                {
                    clear_bubble();
                    bkgRendered = 0;
                    screen++;
                }
                break;
            case 1:

                //TODO heckler shouts
                set_bkg_data(40, 59, audience_tileset);
                set_bkg_tiles(0, 0, 20, 18, audience_neutral);
                set_bubble_text(heckler_shout1);

                delay(2000);
                screen++;


                break;
            case 2:
                //TODO heckler shouts

                if(bkgRendered == 0) 
                {
                    set_bkg_data(40, 59, comedian_tileset);
                    set_bkg_tiles(0, 0, 20, 18, comedian_background);
                    bkgRendered = 1;
                }

                // select response
                if(selectedResponse == 0)
                {
                    options_bubble1[19] = 34;
                    options_bubble1[55] = 0;
                }

                if( selectedResponse == 1)
                {
                    options_bubble1[19] = 0; 
                    options_bubble1[55] = 34; 
                }

                if(joypadCurrent & J_DOWN) 
                {
                    if(selectedResponse == 0) 
                    {
                        selectedResponse = 1;
                    }
                }

                if(joypadCurrent & J_UP) 
                {
                    if(selectedResponse == 1)
                    {
                        selectedResponse = 0;
                    }
                    
                }

                set_bubble_text(options_bubble1);

                if(joypadCurrent & J_A) 
                {
                    if(selectedResponse == 0)
                    {
                        clear_bubble();
                        bkgRendered = 0;
                        screen = 3;
                    }

                    if(selectedResponse == 1)
                    {
                        clear_bubble();
                        bkgRendered = 0;
                        screen = 4;
                    }
                }

                break;
            case 3:
                set_bubble_text(screen_3);

                // TODO audience happy

                //set_bkg_data(40, 59, audience_tileset);
                //set_bkg_tiles(0, 0, 20, 18, audience_neutral);
                
                delay(3000);
                complete_phase();

                break;
            
            case 4:
                set_bubble_text(screen_4);

                // TODO audience angry
                
                //set_bkg_data(40, 59, audience_tileset);
                //set_bkg_tiles(0, 0, 20, 18, audience_neutral);


                delay(3000);
                complete_phase();
     
                break;
            
            default:
                break;
        }

		// Done processing, yield CPU and wait for start of next frame
        vsync();
    }
}